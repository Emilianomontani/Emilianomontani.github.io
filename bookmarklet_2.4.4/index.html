<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bookmarklet: links more 250 caracteres 2.4.4 (OAW)</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="apple-touch-icon" href="favicon.svg">
   <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <style>
    body {
     font-family: "Montserrat", sans-serif;
      font-size: 1rem;
      line-height: 1.5;
      max-width: 700px;
      margin: 2rem auto;
      padding: 1rem;
      background-color: #f7f4eb;
    }
    a.bookmarklet {
      display: flex;
    background-color: #242121;
    border: 2px solid #242121;
    font-family: "Montserrat", sans-serif;
    font-size: 1rem;
    font-weight: 300;
    color: #f7f4eb;
    width: 100%;
    justify-content: center;
    padding: 0.3rem;
    }
    a.bookmarklet:hover {
    background-color: #f7f4eb;
    border: 2px solid #242121;
    color: #242121;
    }
      a.link-book{
        text-decoration:underline;
        font-weight: normal;
    }

        a.link-book:hover{
        text-decoration:none;
        font-weight: bold;
    }

    @media (max-width: 768px) {
             a.bookmarklet {
            display: flex;
          background-color: #242121;
          border: 2px solid #242121;
          font-family: "Montserrat", sans-serif;
          font-size: 1rem;
          font-weight: 300;
          color: #f7f4eb;
          width: 96%;
          justify-content: center;
          padding: 0.3rem;
          margin-left:auto;
          margin-right:auto;
          }
    }
      
  </style>
</head>
<body>
  <h1>Enlaces con más de 250 caracteres - Propósito de los enlaces 2.4.4 / 1.12 Enlaces descriptivos (O.A.W)</h1>
  <h2>Comentarios:</h2>
  <hr>
  <ul>
  <li>Este marcador revisa si hay enlaces con más de 250 caracteres en la página y si existen los indica de una forma visual con color y mediante un title en el código</li>
  <li>Se puede activar y desactivar al presionar sobre el marcador. Un aviso de alerta notifica el estado Activado o Desactivado y además, si existen o no enlaces con error.</li>
  <li>Este caso de error, no es propiamente de las WCAG sino que aparece en la lista de errores del criterio 1.12 Enlaces descriptivos de la herramienta del OAW (Observatorio de Accesibilidad Web) que a su vez tiene excepciones, pero que no se incluyen en la herramienta. Es solo de comprobación. Determinar si es error o no, depende del auditor.</li>
  <li>Se verifica que no haya enlaces demasiado largos con más de 250 caracteres (salvo excepciones). Excepciones: 
    casos en que el enlace comience con textos de Ley.  Bien las palabras:  Constitución, Convención, Decreto, 
    Decreto Foral, Decreto Foral Legislativo, Decreto Legislativo, Decreto-ley, Directiva, Enmienda, Estatuto, 
    Instrumento de Aceptación, Instrumento de Adhesión, Instrumento de Aprobación, Instrumento de Ratificación, 
    Ley, Ley Foral, Ley Orgánica, Nota Diplomática, Orden Foral, Posición Común, Real Decreto, Real Decreto Legislativo, 
    Real Decreto-ley, ResoluciónCircular. Bien los acrónimos:  RD, R.D., R.D, RD-L (78). Uso de aria-label para acortar el texto que anuncian los productos de apoyo.</li>
  </ul>
   <img src="" style="display:block; width: 80%; margin-left:auto; margin-right:auto; margin-bottom: 1rem" alt="">  
  <p><strong>Actualización:</strong> versión única.</p>
  <hr>

  <a class="bookmarklet"
href="javascript:(function()%7Bconst%20i%3D'__marcador_enlaces_largos__'%2Cm%3Ddocument.getElementById(i)%3Bif(m)%7Bdocument.querySelectorAll('[data-longlink%3D%22true%22]').forEach(e%3D%3E%7Be.style.outline%3D''%3Be.style.backgroundColor%3D''%3Be.removeAttribute('data-longlink')%3Be.removeAttribute('title')%7D)%3Bm.remove()%3Balert('%F0%9F%94%B4%20Marcador%20de%20enlaces%20largos%20desactivado.')%3Breturn%7Dconst%20d%3Ddocument.createElement('div')%3Bd.id%3Di%3Bd.style.display%3D'none'%3Bdocument.body.appendChild(d)%3Bconst%20b%3D'%23A00C0C'%2Cf%3D'%23F0F439'%3Blet%20c%3D0%3Bdocument.querySelectorAll('a%2C%5Brole%3D%22link%22%5D').forEach(e%3D%3E%7Bconst%20t%3De.innerText.trim()%3Bif(t.length%3E250)%7Be.style.outline%3D'2px%20solid%20'%2Bb%3Be.style.backgroundColor%3Df%3Be.setAttribute('data-longlink'%2C'true')%3Be.title%3D%60Este%20enlace%20tiene%20%24%7Bt.length%7D%20caracteres%20visibles.%60%3Bc++%7D%7D)%3Bif(c%3D%3D%3D0)%7Balert('%E2%84%B9%EF%B8%8F%20No%20se%20encontraron%20enlaces%20con%20m%C3%A1s%20de%20250%20caracteres.')%3Bd.remove()%7Delse%7Balert(%60%F0%9F%9F%A2%20Marcador%20activado%3A%20se%20marcaron%20%24%7Bc%7D%20enlace(s)%20largo(s).%60)%3Bwindow.addEventListener('beforeunload'%2C()%3D%3E%7Bdocument.querySelectorAll('[data-longlink%3D%22true%22]').forEach(e%3D%3E%7Be.style.outline%3D''%3Be.style.backgroundColor%3D''%3Be.removeAttribute('data-longlink')%3Be.removeAttribute('title')%7D)%7D)%7D%7D)();">250 CRTRS</a>
<p>
    También podés hacer clic derecho y seleccionar "Guardar este enlace como marcador" si estás en móvil o no podés arrastrarlo.
  </p>
  <hr>
   <h2>2. Detector de atributos title redundantes</h2>
        
        <p><strong>Descripción:</strong></p>
        <p>Panel lateral que permite analizar el uso del atributo title en enlaces, detectando redundancias y listando todos los títulos presentes en la página.</p>

        <p><strong>Funcionalidades:</strong></p>
        <ul>
            <li><strong>Comparar title/texto:</strong> Detecta enlaces donde el title es idéntico al texto visible o al alt de la imagen (sin distinguir mayúsculas/minúsculas). Los resalta en rojo.</li>
            <li><strong>Listar todos los title:</strong> Muestra todos los elementos con atributo title para revisión manual. Los resalta en azul.</li>
            <li><strong>Cerrar:</strong> Cierra el panel y elimina todos los resaltados</li>
        </ul>
<a class="bookmarklet" 
  href="javascript:(function()%7Bconst%20panelId%3D'listadoRapido'%3Bconst%20panel%3Ddocument.getElementById(panelId)%3Bif(panel)%7Bpanel.remove()%3B%7Dconst%20bgColor%3D'%23f7f4ed'%3Bconst%20textColor%3D'%23000'%3Bconst%20div%3Ddocument.createElement('div')%3Bdiv.id%3DpanelId%3Bdiv.setAttribute('role'%2C'complementary')%3Bdiv.setAttribute('aria-label'%2C'Panel%20de%20an%C3%A1lisis%20de%20enlaces')%3Bdiv.style.cssText%3D%60position%3Afixed%3Btop%3A0%3Bright%3A0%3Bz-index%3A999999%3Bbackground%3A%24%7BbgColor%7D%3Bcolor%3A%24%7BtextColor%7D%3Bwidth%3A260px%3Bheight%3A100%25%3Bpadding%3A20px%3Bfont-family%3Asystem-ui%2Csans-serif%3Bbox-shadow%3A-2px%200%206px%20rgba(0%2C0%2C0%2C0.3)%3B%60%3Bdiv.innerHTML%3D%60%0A%20%20%20%20%3Ch2%20style%3D%22font-size%3A18px%3Bfont-weight%3A700%3Bmargin-bottom%3A10px%3B%22%3EListado%20r%C3%A1pido%3C%2Fh2%3E%0A%20%20%20%20%3Chr%20style%3D%22margin-bottom%3A15px%3B%22%3E%0A%20%20%20%20%3Cbutton%20id%3D%22checkTitles%22%20class%3D%22btn244%22%3EComparar%20title%2Ftexto%3C%2Fbutton%3E%0A%20%20%20%20%3Cbutton%20id%3D%22listAllTitles%22%20class%3D%22btn244%22%3EListar%20todos%20los%20title%3C%2Fbutton%3E%0A%20%20%20%20%3Cbutton%20id%3D%22cerrarPanel%22%20class%3D%22btn244%22%20aria-label%3D%22Cerrar%20panel%22%3ECerrar%3C%2Fbutton%3E%0A%20%20%20%20%3Cdiv%20id%3D%22resultado%22%20role%3D%22region%22%20aria-live%3D%22polite%22%20aria-atomic%3D%22true%22%20style%3D%22margin-top%3A15px%3Bfont-size%3A13px%3Bmax-height%3A70vh%3Boverflow%3Aauto%3B%22%3E%3C%2Fdiv%3E%0A%20%20%60%3Bdocument.body.appendChild(div)%3Bconst%20style%3Ddocument.createElement('style')%3Bstyle.textContent%3D%60%0A%20%20%20%20%23listadoRapido%20.btn244%20%7B%0A%20%20%20%20%20%20width%3A100%25%3B%0A%20%20%20%20%20%20padding%3A10px%3B%0A%20%20%20%20%20%20margin-bottom%3A10px%3B%0A%20%20%20%20%20%20font-size%3A15px%3B%0A%20%20%20%20%20%20background%3A%24%7BbgColor%7D%3B%0A%20%20%20%20%20%20color%3A%24%7BtextColor%7D%3B%0A%20%20%20%20%20%20border%3A1px%20solid%20%24%7BtextColor%7D%3B%0A%20%20%20%20%20%20border-radius%3A0%3B%0A%20%20%20%20%20%20cursor%3Apointer%3B%0A%20%20%20%20%20%20transition%3Aall%20.2s%20ease%3B%0A%20%20%20%20%7D%0A%20%20%20%20%23listadoRapido%20.btn244%3Ahover%2C%0A%20%20%20%20%23listadoRapido%20.btn244%3Afocus%20%7B%0A%20%20%20%20%20%20background%3A%24%7BtextColor%7D%3B%0A%20%20%20%20%20%20color%3A%24%7BbgColor%7D%3B%0A%20%20%20%20%20%20outline%3Anone%3B%0A%20%20%20%20%7D%0A%20%20%60%3Bdocument.head.appendChild(style)%3Bfunction%20limpiarResaltados()%7Bdocument.querySelectorAll('.resaltado-244%2C%20.resaltado-info-244').forEach(el%3D%3E%7Bel.style.outline%3D''%3Bel.classList.remove('resaltado-244'%2C'resaltado-info-244')%3B%7D)%3B%7Dfunction%20resaltarError(elemento)%7Belemento.style.outline%3D'3px%20solid%20crimson'%3Belemento.classList.add('resaltado-244')%3B%7Dfunction%20resaltarInfo(elemento)%7Belemento.style.outline%3D'3px%20solid%20%230066cc'%3Belemento.classList.add('resaltado-info-244')%3B%7Dfunction%20verificarCoincidencia(enlace%2Catributo)%7Bconst%20textoVisible%3Denlace.textContent.trim().replace(%2F%5Cs%2B%2Fg%2C'%20')%3Bconst%20img%3Denlace.querySelector('img')%3Bconst%20altText%3Dimg%3Fimg.alt.trim()%3A''%3Bconst%20valorAtributo%3Denlace.getAttribute(atributo)%3Bif(!valorAtributo)return%20null%3Bconst%20textoBase%3DtextoVisible%7C%7CaltText%3Bif(!textoBase)return%20null%3Breturn%7Bcoincide%3AvalorAtributo.trim().toLowerCase()%3D%3D%3DtextoBase.toLowerCase()%2Cbase%3AtextoBase%2CesAlt%3A!!altText%26%26!textoVisible%7D%3B%7Dfunction%20mostrarRedundancias(resultados%2Catributo)%7Bconst%20resultadoDiv%3Ddocument.getElementById('resultado')%3Bif(resultados.length%3D%3D%3D0)%7BresultadoDiv.innerHTML%3D%60%3Cp%3ENo%20hay%20redundancias%20detectadas%20en%20%24%7Batributo%7D.%3C%2Fp%3E%60%3B%7Delse%7BresultadoDiv.innerHTML%3D%60%0A%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3E%24%7Bresultados.length%7D%3C%2Fstrong%3E%20enlaces%20con%20redundancias%20en%20%3Ccode%3E%24%7Batributo%7D%3C%2Fcode%3E%3A%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%3Cul%3E%0A%20%20%20%20%20%20%20%20%20%20%24%7Bresultados.map(r%3D%3E%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%20style%3D%22border-bottom%3A%201px%20solid%20%23242121%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-bottom%3A0.1rem%3B%22%3E%3Cspan%3E%3Cstrong%3ETexto%3A%20%3C%2Fstrong%3E%24%7Br.texto%7D%24%7Br.esAlt%3F'%20(desde%20alt)'%3A''%7D%3C%2Fspan%3E%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-bottom%3A0.1rem%3B%22%3E%3Cspan%3E%3Cstrong%3E%24%7Br.tipo%7D%3A%20%3C%2Fstrong%3E%24%7Br.valor%7D%3C%2Fspan%3E%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%60).join('')%7D%0A%20%20%20%20%20%20%20%20%3C%2Ful%3E%0A%20%20%20%20%20%20%60%3B%7D%7Dfunction%20verificarTitulos(atributo)%7BlimpiarResaltados()%3Bconst%20enlaces%3D%5B...document.querySelectorAll('a')%5D%3Bconst%20resultados%3D%5B%5D%3Benlaces.forEach(enlace%3D%3E%7Bconst%20check%3DverificarCoincidencia(enlace%2Catributo)%3Bif(check%26%26check.coincide)%7BresaltarError(enlace)%3Bresultados.push(%7Btexto%3Acheck.base%2Cvalor%3Aenlace.getAttribute(atributo)%2Ctipo%3Aatributo%2CesAlt%3Acheck.esAlt%7D)%3B%7D%7D)%3BmostrarRedundancias(resultados%2Catributo)%3B%7Dfunction%20listarTodosLosTitles()%7BlimpiarResaltados()%3Bconst%20elementosConTitle%3D%5B...document.querySelectorAll('%5Btitle%5D')%5D%3Bconst%20lista%3D%5B%5D%3BelementosConTitle.forEach(elemento%3D%3E%7Bconst%20titleAttr%3Delemento.getAttribute('title')%3Bif(!titleAttr)return%3Bconst%20textoVisible%3Delemento.textContent.trim().replace(%2F%5Cs%2B%2Fg%2C'%20')%3Bconst%20img%3Delemento.querySelector('img')%3Bconst%20altText%3Dimg%3Fimg.alt.trim()%3A''%3Bconst%20textoFinal%3DtextoVisible%7C%7CaltText%3BresaltarInfo(elemento)%3Blista.push(%7Belemento%3Aelemento.tagName.toLowerCase()%2Ctexto%3AtextoFinal%7C%7C'(sin%20texto%20visible)'%2Ctitle%3AtitleAttr%7D)%3B%7D)%3BmostrarListaTitles(lista)%3B%7Dfunction%20mostrarListaTitles(lista)%7Bconst%20resultadoDiv%3Ddocument.getElementById('resultado')%3Bif(lista.length%3D%3D%3D0)%7BresultadoDiv.innerHTML%3D'%3Cp%3ENo%20se%20encontraron%20elementos%20con%20title.%3C%2Fp%3E'%3B%7Delse%7BresultadoDiv.innerHTML%3D%60%0A%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3E%24%7Blista.length%7D%3C%2Fstrong%3E%20elementos%20con%20atributo%20%3Ccode%3Etitle%3C%2Fcode%3E%3A%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%3Cul%3E%0A%20%20%20%20%20%20%20%20%20%20%24%7Blista.map(item%3D%3E%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cli%20style%3D%22border-bottom%3A%201px%20solid%20%23242121%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-bottom%3A0.1rem%3B%22%3E%3Cspan%3E%3Cstrong%3EElemento%3A%20%3C%2Fstrong%3E%26lt%3B%24%7Bitem.elemento%7D%26gt%3B%3C%2Fspan%3E%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-bottom%3A0.1rem%3B%22%3E%3Cspan%3E%3Cstrong%3ETexto%20visible%3A%20%3C%2Fstrong%3E%24%7Bitem.texto%7D%3C%2Fspan%3E%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-bottom%3A0.1rem%3B%22%3E%3Cspan%3E%3Cstrong%3EAtributo%20title%3A%20%3C%2Fstrong%3E%24%7Bitem.title%7D%3C%2Fspan%3E%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%60).join('')%7D%0A%20%20%20%20%20%20%20%20%3C%2Ful%3E%0A%20%20%20%20%20%20%60%3B%7D%7Ddocument.getElementById('checkTitles').onclick%3D()%3D%3EverificarTitulos('title')%3Bdocument.getElementById('listAllTitles').onclick%3D()%3D%3ElistarTodosLosTitles()%3Bdocument.getElementById('cerrarPanel').onclick%3D()%3D%3E%7BlimpiarResaltados()%3Bdiv.remove()%3B%7D%3B%7D)()%3B">alt = txt</a>
  
  <p>También podés hacer clic derecho y seleccionar "Guardar este enlace como marcador" si estás en móvil o no podés arrastrarlo.</p>

        <hr>
  <h2>Contacto para Comentarios y Errores:</h2>
    <p>Si tienes comentarios, recomendaciones o encuentras algún error, por favor, no dudes en contactarme a través de: <strong>emilianomontani@gmail.com</strong></p>
    <p>¡Espero que esta herramienta te sea útil en tu trabajo diario! Muchas gracias por tu colaboración</p>
</body>
</html>
